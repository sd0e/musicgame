"use strict";(self.webpackChunkmusicgame=self.webpackChunkmusicgame||[]).push([[829],{8178:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(1979),s=n(7012),o=n(6151),r=n(184);function i(e){var t=e.children,n=e.onClick,i="dark"===localStorage.colorTheme?"255":"0",l=(0,a.Z)({palette:{mode:localStorage.colorTheme,primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif'},components:{MuiButton:{styleOverrides:{root:{fontWeight:600,marginBottom:"0.5rem",justifyContent:"left",padding:"0.5rem 1.5rem",textTransform:"none",backgroundColor:"rgba(".concat(i,", ").concat(i,", ").concat(i,", 0.05)"),color:getComputedStyle(document.body).getPropertyValue("--text"),marginRight:"0.5rem"}}}}});return(0,r.jsx)(s.Z,{theme:l,children:(0,r.jsx)(o.Z,{onClick:n,children:t})})}},9829:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var a=n(885),s=n(2791),o=n(3473),r=n(6871),i=n(4361),l=n(8178),c=n(408);function u(){return new Promise((function(e){var t=(0,c.iH)((0,c.N8)());(0,c.U2)((0,c.iU)(t,"songs/numSongs")).then((function(n){var a=n.val(),s=Math.floor(Math.random()*a-1);-1===s&&(s=0),(0,c.U2)((0,c.iU)(t,"songs/songList/".concat(s))).then((function(t){t=t.val(),e(t)}))}))}))}var m={gameContainer:"Game_gameContainer__e6ith",coverInput:"Game_coverInput__dHni-",gameOuter:"Game_gameOuter__HepEQ",gameBottom:"Game_gameBottom__Hhl9D",heart:"Game_heart__YAZba",faded:"Game_faded__E2R2I",heartAnimation:"Game_heartAnimation__T8HLW"},d="NameModule_nameModuleOuter__llC9F",h="NameModule_songName__znUiE",f="NameModule_songArtist__F9a2x",_="NameModule_wordMiddle__lxr2f",g="NameModule_incompletedWord__RYX-r",p=n(184);function v(e){var t=e.Name,n=e.FullName,a=e.Artist,s=e.onComplete,o=t.length,r=n.split(" "),i=[];r.forEach((function(e){return i.push(e.split(""))}));var l=0,c="";i.forEach((function(e){e.forEach((function(e,n){0!==n?(c+=l<o?t.split("")[l]:l===o?"|":"_",l+=1):c+=e})),c+=" "})),c.slice(0,-1);var u=c.includes("|");return u||s(c),(0,p.jsxs)("div",{className:d,children:[u?(0,p.jsxs)("span",{className:h,children:[(0,p.jsx)("span",{children:c.split("|")[0]}),(0,p.jsx)("span",{className:_}),c.split("|")[1].split("").map((function(e,t){return(0,p.jsx)("span",{className:"_"===e?g:void 0,children:e},"letter".concat(e).concat(t))}))]}):(0,p.jsx)("span",{className:h,children:c}),(0,p.jsx)("span",{className:f,children:a})]})}var x="StatModule_statModuleOuter__Xu691",j="StatModule_title__KWTPn",N="StatModule_value__rT9A2";function C(e){var t=e.Title,n=e.Value;return(0,p.jsxs)("div",{className:x,children:[(0,p.jsx)("span",{className:N,children:n}),(0,p.jsx)("span",{className:j,children:t})]})}function M(){var e=(0,s.useState)("Loading"),t=(0,a.Z)(e,2),n=t[0],c=t[1],d=(0,s.useState)("Loading"),h=(0,a.Z)(d,2),f=h[0],_=h[1],g=(0,s.useState)(2),x=(0,a.Z)(g,2),j=x[0],N=x[1],M=(0,s.useState)(""),S=(0,a.Z)(M,2),Z=S[0],k=S[1],y=(0,s.useState)(!1),A=(0,a.Z)(y,2),b=A[0],L=A[1],O=(0,s.useState)(0),T=(0,a.Z)(O,2),E=T[0],G=T[1],F=(0,r.s0)();(0,s.useEffect)((function(){var e=(0,o.v0)();(0,o.Aj)(e,(function(e){c(e||"signedOut")})),u().then((function(e){return _(e)}))}),[]);return"Loading"===n?(0,p.jsx)("div",{children:(0,p.jsx)("h3",{children:"Loading..."})}):"signedOut"===n?(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:"You must sign in"}),(0,p.jsx)(l.Z,{onClick:function(){return F("/account")},children:"Sign In"})]}):(0,p.jsxs)("div",{className:m.gameContainer,children:[(0,p.jsx)("input",{type:"text",className:m.coverInput,value:Z,onChange:function(e){return k(e.target.value)},autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),"Loading"===f?(0,p.jsx)("h3",{children:"Loading..."}):(0,p.jsxs)("div",{className:m.gameOuter,children:[(0,p.jsx)("div",{}),(0,p.jsx)("div",{children:!b&&(0,p.jsx)(v,{Name:Z,FullName:f.name,Artist:f.artist,onComplete:function(e){k(""),e.trim()===f.name.trim()?(L(!0),G(2===j?E+3:E+1),N(2),u().then((function(e){_(e),L(!1)}))):(N(j-1),1===j&&F("/results"))}})}),(0,p.jsxs)("div",{className:m.gameBottom,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(i.Z,{className:m.heart}),(0,p.jsx)(i.Z,{className:1===j?[m.heart,m.faded].join(" "):m.heart})]}),(0,p.jsx)("div",{children:(0,p.jsx)(C,{Title:"Points",Value:E})})]})]})]})}}}]);
//# sourceMappingURL=829.b3b3509c.chunk.js.map