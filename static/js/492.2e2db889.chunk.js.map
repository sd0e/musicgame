{"version":3,"file":"static/js/492.2e2db889.chunk.js","mappings":"2IACA,MAAkC,oCAAlC,EAA+F,2CAA/F,EAAkJ,0BAAlJ,EAAoL,0B,SCCrK,SAASA,EAAT,GAAgD,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,QAClD,OACC,iBAAKC,UAAWD,EAAUE,EAAiCA,EAA3D,WACA,iBAAMD,UAAWC,EAAjB,SAAiCH,KAChC,iBAAME,UAAWC,EAAjB,SAAiCJ,S,kCCGpC,IAPc,SAAAK,GACb,OAAO,IAAIC,SAAQ,SAAAC,GAClB,IAAMC,GAAKC,EAAAA,EAAAA,OACXC,EAAAA,EAAAA,KAAQC,EAAAA,EAAAA,IAAIH,EAAIH,IAAO,SAAAO,GAAQ,OAAIL,EAAQK,EAASC,e,uHCJtD,EAAiC,oCAAjC,EAA2F,yC,SCM5E,SAASC,IACpB,OAAwBC,EAAAA,EAAAA,UAAS,WAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAkCF,EAAAA,EAAAA,UAAS,WAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAgCJ,EAAAA,EAAAA,UAAS,WAAzC,eAAOK,EAAP,KAAiBC,EAAjB,KAgBA,OAdAC,EAAAA,EAAAA,YAAU,WAAO,IAAMC,GAAOC,EAAAA,EAAAA,OAC1BC,EAAAA,EAAAA,IAAmBF,GAAM,SAACP,GAClBA,GACAC,EAAQD,IACRU,EAAAA,EAAAA,GAAM,SAAD,OAAUV,EAAKW,IAAf,eAAgCC,MAAK,SAAAC,GACVV,EAAN,OAAlBU,EAAqCA,EACvB,OAEtBH,EAAAA,EAAAA,GAAM,SAAD,OAAUV,EAAKW,IAAf,cAA+BC,MAAK,SAAAE,GAAY,OAAIT,EAAYS,OAEpEb,EAAQ,kBAElB,KAGC,4BACI,wCACW,cAATD,GAAiC,YAATA,IAAsB,iBAAKb,UAAWC,EAAhB,WAC5C,iBAAMD,UAAWC,EAAjB,yBACA,SAACL,EAAA,EAAD,CAAYC,MAAM,YAAYC,MAAOiB,EAAWhB,SAAO,KACvD,SAACH,EAAA,EAAD,CAAYC,MAAM,QAAQC,MAAOmB,EAAUlB,SAAO,QAEtD,gBAAKC,UAAWC,EAAhB,UACI,iBAAMD,UAAWC,EAAjB","sources":["webpack://musicgame/./src/components/ui/StatModule.module.css?3d68","components/ui/StatModule.js","firebase/fetch.js","webpack://musicgame/./src/pages/Leaderboard.module.css?2c5f","pages/Leaderboard.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"statModuleOuter\":\"StatModule_statModuleOuter__Xu691\",\"statModuleOuterDisplay\":\"StatModule_statModuleOuterDisplay__3jPHx\",\"title\":\"StatModule_title__KWTPn\",\"value\":\"StatModule_value__rT9A2\"};","import classes from './StatModule.module.css';\n\nexport default function StatModule({ Title, Value, Display }) {\n\treturn (\n\t\t<div className={Display ? classes.statModuleOuterDisplay : classes.statModuleOuter}>\n\t\t<span className={classes.value}>{Value}</span>\n\t\t\t<span className={classes.title}>{Title}</span>\n\t\t</div>\n\t)\n}","import { getDatabase, ref, onValue } from \"firebase/database\";\n\nconst fetch = path => {\n\treturn new Promise(resolve => {\n\t\tconst db = getDatabase();\n\t\tonValue(ref(db, path), snapshot => resolve(snapshot.val()));\n\t});\n}\n\nexport default fetch;","// extracted by mini-css-extract-plugin\nexport default {\"outerContainer\":\"Leaderboard_outerContainer__An2PI\",\"outerContainerTitle\":\"Leaderboard_outerContainerTitle__4qlgh\"};","import { useEffect, useState } from \"react\";\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\n\nimport fetch from \"../firebase/fetch\";\nimport StatModule from \"../components/ui/StatModule\";\nimport classes from './Leaderboard.module.css';\n\nexport default function Leaderboard() {\n    const [user, setUser] = useState('Loading');\n    const [highscore, setHighscore] = useState('Loading');\n    const [numGames, setNumGames] = useState('Loading');\n\n    useEffect(() => {const auth = getAuth();\n        onAuthStateChanged(auth, (user) => {\n            if (user) {\n                setUser(user);\n                fetch(`/user/${user.uid}/highscore`).then(tempHighscore => {\n                    if (tempHighscore !== null) setHighscore(tempHighscore);\n                    else setHighscore(0);\n                });\n                fetch(`/user/${user.uid}/numGames`).then(tempNumGames => setNumGames(tempNumGames));\n            }\n            else setUser(\"signedOut\");\n        });\n    }, []);\n\n    return (\n        <div>\n            <h3>Leaderboard</h3>\n            { user !== 'signedOut' && user !== 'Loading' && <div className={classes.outerContainer}>\n                <span className={classes.outerContainerTitle}>Your Games</span>\n                <StatModule Title=\"Highscore\" Value={highscore} Display />\n                <StatModule Title=\"Games\" Value={numGames} Display />\n            </div> }\n            <div className={classes.outerContainer}>\n                <span className={classes.outerContainerTitle}>Global Leaderboard</span>\n            </div>\n        </div>\n    );\n}"],"names":["StatModule","Title","Value","Display","className","classes","path","Promise","resolve","db","getDatabase","onValue","ref","snapshot","val","Leaderboard","useState","user","setUser","highscore","setHighscore","numGames","setNumGames","useEffect","auth","getAuth","onAuthStateChanged","fetch","uid","then","tempHighscore","tempNumGames"],"sourceRoot":""}