"use strict";(self.webpackChunkmusicgame=self.webpackChunkmusicgame||[]).push([[830],{8178:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(1979),r=t(7012),o=t(6151),i=t(184);function s(e){var n=e.children,t=e.onClick,s="dark"===localStorage.colorTheme?"255":"0",c=(0,a.Z)({palette:{mode:localStorage.colorTheme,primary:{light:"#757ce8",main:"#3f50b5",dark:"#002884"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif'},components:{MuiButton:{styleOverrides:{root:{fontWeight:600,marginBottom:"0.5rem",justifyContent:"left",padding:"0.5rem 1.5rem",textTransform:"none",backgroundColor:"rgba(".concat(s,", ").concat(s,", ").concat(s,", 0.05)"),color:getComputedStyle(document.body).getPropertyValue("--text"),marginRight:"0.5rem"}}}}});return(0,i.jsx)(r.Z,{theme:c,children:(0,i.jsx)(o.Z,{onClick:t,children:n})})}},8420:function(e,n,t){var a=t(408);t(3473);n.Z=function(e,n){return new Promise((function(t){var r=(0,a.N8)();(0,a.t8)((0,a.iH)(r,e),n).then((function(){return t("completed")}))}))}},8830:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var a=t(885),r=t(2791),o=t(3473),i=t(6871),s=t(9201),c=t(184),u=(0,s.Z)((0,c.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite"),l=t(8178),m=t(408);function d(){return new Promise((function(e){var n=(0,m.iH)((0,m.N8)());(0,m.U2)((0,m.iU)(n,"songs/numSongs")).then((function(t){var a=t.val(),r=Math.floor(Math.random()*a-1);-1===r&&(r=0),(0,m.U2)((0,m.iU)(n,"songs/songList/".concat(r))).then((function(n){n=n.val(),e(n)}))}))}))}var h={gameContainer:"Game_gameContainer__e6ith",coverInput:"Game_coverInput__dHni-",gameOuter:"Game_gameOuter__HepEQ",gameBottom:"Game_gameBottom__Hhl9D",heart:"Game_heart__YAZba",faded:"Game_faded__E2R2I",heartAnimation:"Game_heartAnimation__T8HLW"},f="NameModule_nameModuleOuter__llC9F",g="NameModule_songName__znUiE",_="NameModule_songArtist__F9a2x",v="NameModule_wordMiddle__lxr2f",p="NameModule_incompletedWord__RYX-r";function x(e){var n=e.Name,t=e.FullName,a=e.Artist,r=e.onComplete,o=n.length,i=t.split(" "),s=[];i.forEach((function(e){return s.push(e.split(""))}));var u=0,l="";s.forEach((function(e){e.forEach((function(e,t){0!==t?(l+=u<o?n.split("")[u]:u===o?"|":"_",u+=1):l+=e})),l+=" "})),l.slice(0,-1);var m=l.includes("|");return m||r(l),(0,c.jsxs)("div",{className:f,children:[m?(0,c.jsxs)("span",{className:g,children:[(0,c.jsx)("span",{children:l.split("|")[0]}),(0,c.jsx)("span",{className:v}),l.split("|")[1].split("").map((function(e,n){return(0,c.jsx)("span",{className:"_"===e?p:void 0,children:e},"letter".concat(e).concat(n))}))]}):(0,c.jsx)("span",{className:g,children:l}),(0,c.jsx)("span",{className:_,children:a})]})}var j="StatModule_statModuleOuter__Xu691",N="StatModule_title__KWTPn",C="StatModule_value__rT9A2";function Z(e){var n=e.Title,t=e.Value;return(0,c.jsxs)("div",{className:j,children:[(0,c.jsx)("span",{className:C,children:t}),(0,c.jsx)("span",{className:N,children:n})]})}var M=function(e){return new Promise((function(n){var t=(0,m.N8)();(0,m.jM)((0,m.iH)(t,e),(function(e){return n(e.val())}))}))},S=t(8420);function G(){var e=(0,r.useState)("Loading"),n=(0,a.Z)(e,2),t=n[0],s=n[1],m=(0,r.useState)("Loading"),f=(0,a.Z)(m,2),g=f[0],_=f[1],v=(0,r.useState)(2),p=(0,a.Z)(v,2),j=p[0],N=p[1],C=(0,r.useState)(""),G=(0,a.Z)(C,2),k=G[0],y=G[1],L=(0,r.useState)(!1),T=(0,a.Z)(L,2),A=T[0],H=T[1],b=(0,r.useState)(0),O=(0,a.Z)(b,2),w=O[0],E=O[1],F=(0,r.useState)("Loading"),I=(0,a.Z)(F,2),P=I[0],B=I[1],U=(0,i.s0)();(0,r.useEffect)((function(){var e=(0,o.v0)();(0,o.Aj)(e,(function(e){e?(s(e),M("/user/".concat(e.uid,"/highscore")).then((function(e){return B(e)})),M("/user/".concat(e.uid,"/currentGame")).then((function(e){null!==e&&0!==e&&E(e)}))):s("signedOut")})),d().then((function(e){return _(e)}))}),[]);return"Loading"===t?(0,c.jsx)("div",{children:(0,c.jsx)("h3",{children:"Loading..."})}):"signedOut"===t?(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{children:"You must sign in"}),(0,c.jsx)(l.Z,{onClick:function(){return U("/account")},children:"Sign In"})]}):(0,c.jsxs)("div",{className:h.gameContainer,children:[(0,c.jsx)("input",{type:"text",className:h.coverInput,value:k,onChange:function(e){return y(e.target.value)},autoFocus:!0,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"}),"Loading"===g?(0,c.jsx)("h3",{children:"Loading..."}):(0,c.jsxs)("div",{className:h.gameOuter,children:[(0,c.jsx)("div",{}),(0,c.jsx)("div",{children:!A&&(0,c.jsx)(x,{Name:k,FullName:g.name,Artist:g.artist,onComplete:function(e){var n;y(""),e.trim()===g.name.trim()?(H(!0),E(n=2===j?w+3:w+1),N(2),(0,S.Z)("/user/".concat(t.uid,"/currentGame"),n).then((function(){d().then((function(e){_(e),H(!1)}))}))):(N(j-1),1===j&&M("/user/".concat(t.uid,"/numGames")).then((function(e){(0,S.Z)("/user/".concat(t.uid,"/game/").concat(e),{score:w,date:(new Date).getTime()}).then((function(){(0,S.Z)("/user/".concat(t.uid,"/numGames"),e+1).then((function(){M("/user/".concat(t.uid,"/highscore")).then((function(e){(0,S.Z)("/user/".concat(t.uid,"/currentGame"),null).then((function(){w>e||null===e?(0,S.Z)("/user/".concat(t.uid,"/highscore"),w).then((function(){U("/results")})):U("/results")}))}))}))}))})))}})}),(0,c.jsxs)("div",{className:h.gameBottom,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(u,{className:h.heart}),(0,c.jsx)(u,{className:1===j?[h.heart,h.faded].join(" "):h.heart})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(Z,{Title:"Highscore",Value:P}),(0,c.jsx)(Z,{Title:"Points",Value:w})]})]})]})]})}}}]);
//# sourceMappingURL=830.0425e645.chunk.js.map