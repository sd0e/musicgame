{"version":3,"file":"static/js/829.b3b3509c.chunk.js","mappings":"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","sources":["components/ui/FancyButton.js","firebase/fetchRandomSong.js","webpack://musicgame/./src/pages/Game.module.css?f9c1","webpack://musicgame/./src/components/ui/NameModule.module.css?8664","components/ui/NameModule.js","webpack://musicgame/./src/components/ui/StatModule.module.css?3d68","components/ui/StatModule.js","pages/Game.js"],"sourcesContent":["import { createTheme, ThemeProvider, Button } from \"@mui/material\";\r\n\r\nexport default function FancyButton({ children, onClick }) {\r\n  const bgRGBA = localStorage.colorTheme === \"dark\" ? \"255\" : \"0\";\r\n\r\n  const theme = createTheme({\r\n    palette: {\r\n      mode: localStorage.colorTheme,\r\n      primary: {\r\n        light: \"#757ce8\",\r\n        main: \"#3f50b5\",\r\n        dark: \"#002884\"\r\n      }\r\n    },\r\n    typography: {\r\n      fontFamily: `\"Inter\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif`\r\n    },\r\n    components: {\r\n      MuiButton: {\r\n        styleOverrides: {\r\n          root: {\r\n            fontWeight: 600,\r\n            marginBottom: \"0.5rem\",\r\n            justifyContent: \"left\",\r\n            padding: \"0.5rem 1.5rem\",\r\n            textTransform: \"none\",\r\n            backgroundColor: `rgba(${bgRGBA}, ${bgRGBA}, ${bgRGBA}, 0.05)`,\r\n            color: getComputedStyle(document.body).getPropertyValue(\"--text\"),\r\n            marginRight: \"0.5rem\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <Button onClick={onClick}>{children}</Button>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n","import { getDatabase, ref, child, get } from \"firebase/database\";\n\nexport default function fetchRandomSong() {\n\treturn new Promise(resolve => {\n\t\tconst dbRef = ref(getDatabase());\n\t\tget(child(dbRef, `songs/numSongs`)).then(snapshot => {\n\t\t\tconst numSongs = snapshot.val();\n\t\t\tlet randomSong = Math.floor(Math.random() * numSongs - 1);\n\t\t\tif (randomSong === -1) randomSong = 0;\n\t\t\tget(child(dbRef, `songs/songList/${randomSong}`)).then(randomSong => {\n\t\t\t\trandomSong = randomSong.val();\n\t\t\t\tresolve(randomSong);\n\t\t\t})\n\t\t});\n\t});\n}","// extracted by mini-css-extract-plugin\nexport default {\"gameContainer\":\"Game_gameContainer__e6ith\",\"coverInput\":\"Game_coverInput__dHni-\",\"gameOuter\":\"Game_gameOuter__HepEQ\",\"gameBottom\":\"Game_gameBottom__Hhl9D\",\"heart\":\"Game_heart__YAZba\",\"faded\":\"Game_faded__E2R2I\",\"heartAnimation\":\"Game_heartAnimation__T8HLW\"};","// extracted by mini-css-extract-plugin\nexport default {\"nameModuleOuter\":\"NameModule_nameModuleOuter__llC9F\",\"songName\":\"NameModule_songName__znUiE\",\"songArtist\":\"NameModule_songArtist__F9a2x\",\"wordMiddle\":\"NameModule_wordMiddle__lxr2f\",\"pulse\":\"NameModule_pulse__Yvk08\",\"incompletedWord\":\"NameModule_incompletedWord__RYX-r\"};","import classes from './NameModule.module.css';\n\nexport default function NameModule({ Name, FullName, Artist, onComplete }) {\n\tconst currentIdx = Name.length;\n\n\tconst words = FullName.split(' ');\n\tlet wordsSplit = [];\n\twords.forEach(word => wordsSplit.push(word.split('')));\n\t\n\tlet totalIdx = 0;\n\tlet formedWord = '';\n\twordsSplit.forEach((wordSplit) => {\n\t\twordSplit.forEach((letter, idxWordSplit) => {\n\t\t\tif (idxWordSplit !== 0) {\n\t\t\t\tif (totalIdx < currentIdx) {\n\t\t\t\t\tformedWord += Name.split('')[totalIdx];\n\t\t\t\t} else if (totalIdx === currentIdx) {\n\t\t\t\t\tformedWord += '|';\n\t\t\t\t} else {\n\t\t\t\t\tformedWord += '_';\n\t\t\t\t}\n\t\t\t\ttotalIdx += 1;\n\t\t\t} else {\n\t\t\t\tformedWord += letter;\n\t\t\t}\n\t\t});\n\t\tformedWord += ' ';\n\t});\n\tformedWord.slice(0, -1);\n\n\tconst wordIncomplete = formedWord.includes('|');\n\tif (!wordIncomplete) onComplete(formedWord);\n\n\treturn (\n\t\t<div className={classes.nameModuleOuter}>\n\t\t\t{ wordIncomplete ?\n\t\t\t\t<span className={classes.songName}>\n\t\t\t\t\t<span>{formedWord.split('|')[0]}</span>\n\t\t\t\t\t<span className={classes.wordMiddle}></span>\n\t\t\t\t\t{ formedWord.split('|')[1].split('').map((letter, idx) => {\n\t\t\t\t\t\treturn <span className={letter === '_' ? classes.incompletedWord : undefined} key={`letter${letter}${idx}`}>{letter}</span>\n\t\t\t\t\t}) }\n\t\t\t\t</span>\n\t\t\t:\n\t\t\t\t<span className={classes.songName}>{formedWord}</span>\n\t\t\t}\n\t\t\t<span className={classes.songArtist}>{Artist}</span>\n\t\t</div>\n\t)\n}","// extracted by mini-css-extract-plugin\nexport default {\"statModuleOuter\":\"StatModule_statModuleOuter__Xu691\",\"title\":\"StatModule_title__KWTPn\",\"value\":\"StatModule_value__rT9A2\"};","import classes from './StatModule.module.css';\n\nexport default function StatModule({ Title, Value }) {\n\treturn (\n\t\t<div className={classes.statModuleOuter}>\n\t\t<span className={classes.value}>{Value}</span>\n\t\t\t<span className={classes.title}>{Title}</span>\n\t\t</div>\n\t)\n}","import { useEffect, useState } from \"react\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Favorite } from \"@mui/icons-material\";\r\n\r\nimport FancyButton from \"../components/ui/FancyButton\";\r\nimport fetchRandomSong from \"../firebase/fetchRandomSong\";\r\nimport classes from \"./Game.module.css\";\r\nimport NameModule from \"../components/ui/NameModule\";\r\nimport StatModule from \"../components/ui/StatModule\";\r\n\r\nexport default function Game() {\r\n  const [signedIn, setSignedIn] = useState(\"Loading\");\r\n  const [currentSong, setCurrentSong] = useState(\"Loading\");\r\n  const [hearts, setHearts] = useState(2);\r\n  const [nameInput, setNameInput] = useState('');\r\n  const [currentSongCompleted, setCurrentSongCompleted] = useState(false);\r\n  const [score, setScore] = useState(0);\r\n\r\n  let navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    onAuthStateChanged(auth, (user) => {\r\n      if (user) setSignedIn(user);\r\n      else setSignedIn(\"signedOut\");\r\n    });\r\n\r\n    fetchRandomSong().then(randomSong => setCurrentSong(randomSong));\r\n  }, []);\r\n\r\n  const completed = completedSong => {\r\n    setNameInput('');\r\n    if (completedSong.trim() === currentSong.name.trim()) {\r\n      setCurrentSongCompleted(true);\r\n      if (hearts === 2) setScore(score + 3);\r\n      else setScore(score + 1);\r\n      setHearts(2);\r\n      fetchRandomSong().then(randomSong => {\r\n        setCurrentSong(randomSong);\r\n        setCurrentSongCompleted(false);\r\n      });\r\n    } else {\r\n      setHearts(hearts - 1);\r\n      if (hearts === 1) {\r\n        navigate('/results');\r\n      }\r\n    }\r\n  }\r\n\r\n  if (signedIn === \"Loading\") {\r\n    return (\r\n      <div>\r\n        <h3>Loading...</h3>\r\n      </div>\r\n    );\r\n  } else if (signedIn === \"signedOut\") {\r\n    return (\r\n      <div>\r\n        <h3>You must sign in</h3>\r\n        <FancyButton onClick={() => navigate(\"/account\")}>Sign In</FancyButton>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className={classes.gameContainer}>\r\n        <input type=\"text\" className={classes.coverInput} value={nameInput} onChange={e => setNameInput(e.target.value)} autoFocus autoComplete=\"off\" autoCorrect=\"off\" autoCapitalize=\"off\" spellCheck=\"false\" />\r\n        { currentSong === \"Loading\" ?\r\n          <h3>Loading...</h3>\r\n        :\r\n          <div className={classes.gameOuter}>\r\n            <div></div>\r\n            <div>{ !currentSongCompleted && <NameModule Name={nameInput} FullName={currentSong.name} Artist={currentSong.artist} onComplete={completed} /> }</div>\r\n            <div className={classes.gameBottom}>\r\n              <div>\r\n                <Favorite className={classes.heart} />\r\n                <Favorite className={hearts === 1 ? [classes.heart, classes.faded].join(' ') : classes.heart} />\r\n              </div>\r\n              <div>\r\n                <StatModule Title=\"Points\" Value={score} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"names":["FancyButton","children","onClick","bgRGBA","localStorage","colorTheme","theme","createTheme","palette","mode","primary","light","main","dark","typography","fontFamily","components","MuiButton","styleOverrides","root","fontWeight","marginBottom","justifyContent","padding","textTransform","backgroundColor","color","getComputedStyle","document","body","getPropertyValue","marginRight","fetchRandomSong","Promise","resolve","dbRef","ref","getDatabase","get","child","then","snapshot","numSongs","val","randomSong","Math","floor","random","NameModule","Name","FullName","Artist","onComplete","currentIdx","length","words","split","wordsSplit","forEach","word","push","totalIdx","formedWord","wordSplit","letter","idxWordSplit","slice","wordIncomplete","includes","className","classes","map","idx","undefined","StatModule","Title","Value","Game","useState","signedIn","setSignedIn","currentSong","setCurrentSong","hearts","setHearts","nameInput","setNameInput","currentSongCompleted","setCurrentSongCompleted","score","setScore","navigate","useNavigate","useEffect","auth","getAuth","onAuthStateChanged","user","type","value","onChange","e","target","autoFocus","autoComplete","autoCorrect","autoCapitalize","spellCheck","name","artist","completedSong","trim","Favorite","join"],"sourceRoot":""}